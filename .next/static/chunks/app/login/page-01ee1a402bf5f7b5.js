(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{1773:function(e,t,n){Promise.resolve().then(n.bind(n,4712))},9927:function(e,t,n){"use strict";n.d(t,{U2:function(){return i},v_:function(){return c}});var r=n(2126),a=n(5330);function s(e,t,n,r,s){let o=a.H.getAccessToken(),i={"Content-Type":s?"application/json":"multipart/form-data",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};return r&&(i.Authorization="Bearer ".concat(o)),{method:e,url:"".concat("http://localhost/api/").concat(t),headers:i,data:n}}async function o(e){try{let t=await (0,r.Z)(e);return JSON.stringify({status:t.status,data:t.data,message:t.data.message})}catch(e){var t,n,a;throw{status:null===(t=e.response)||void 0===t?void 0:t.status,message:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message}}}async function i(e,t,n){let r="";return t&&(r=Object.entries(t).filter(e=>{let[t,n]=e;return null!=n&&""!==n}).map(e=>{let[t,n]=e;return Array.isArray(n)?n.map(e=>"".concat(t,"=").concat(e)).join("&"):"".concat(t,"=").concat(n)}).join("&")),o(s("get",r?"".concat(e,"?").concat(r):e,void 0,n))}async function c(e,t,n,r){if(r)return o(s("post",e,t,n,!0));{let r=new FormData;for(let e in t)t.hasOwnProperty(e)&&r.append(e,t[e]);return o(s("post",e,r,n,!1))}}},4135:function(e,t,n){"use strict";n.d(t,{x:function(){return s},z:function(){return o}});var r=n(9927),a=n(2300);async function s(e){try{let t=await (0,r.v_)("auth/login",e);return(0,a.M)(t)}catch(e){throw e}}async function o(e){try{let t=await (0,r.v_)("auth/register",e,void 0,!0);return(0,a.M)(t)}catch(e){throw e}}},4712:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var r=n(7437),a=n(4070),s=n(4135),o=n(495),i=n(6013),c=n(7233),u=n(7135),l=n(3263),d=n(5330),f=n(7138),m=n(2265),p=n(1444),g=n(6463);function x(){let e=(0,p.I0)(),t=(0,g.useRouter)(),[n,a]=(0,m.useState)({username:"",password:""}),x=async()=>{if(n.username&&n.password)try{let r=await (0,s.x)(n);200===r.status?(d.H.login(r.data.access_token),t.push("/"),e((0,l.G3)({open:!0,title:"Login Success",content:"You have successfully logged in",status:"success",confirmText:"OK",onConfirm:()=>e((0,l.gk)())}))):e((0,l.G3)({open:!0,title:"Login Failed",content:"Invalid username or password",status:"error",confirmText:"OK",onConfirm:()=>e((0,l.gk)())}))}catch(t){e((0,l.G3)({open:!0,title:"Login Failed",content:"Invalid username or password",status:"error",confirmText:"OK",onConfirm:()=>e((0,l.gk)())}))}else switch(!0){case!n.username:e((0,l.G3)({open:!0,title:"Login Failed",content:"Username is required",status:"error",confirmText:"OK",onConfirm:()=>e((0,l.gk)())}));break;case!n.password:e((0,l.G3)({open:!0,title:"Login Failed",content:"Password is required",status:"error",confirmText:"OK",onConfirm:()=>e((0,l.gk)())}))}};return(0,r.jsxs)(i.Zb,{className:"w-full mx-auto max-w-md h-max",children:[(0,r.jsxs)(i.Ol,{children:[(0,r.jsx)(i.ll,{className:"text-2xl",children:"Login"}),(0,r.jsx)(i.SZ,{children:"Enter your username and password to login"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsxs)("div",{className:"grid gap-4",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(u.Label,{htmlFor:"username",children:"Username"}),(0,r.jsx)(c.uD,{label:"Username",id:"username",type:"text",required:!0,value:n.username,onChange:e=>a({...n,username:e.target.value})})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(u.Label,{htmlFor:"password",children:"Password"}),(0,r.jsx)(c.uD,{label:"Password",id:"password",type:"password",required:!0,value:n.password,onChange:e=>a({...n,password:e.target.value})})]}),(0,r.jsx)(o.z,{className:"w-full",onClick:x,children:"Login"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,r.jsx)(f.default,{href:"/register",className:"underline",children:"Sign up"})]})]})]})}function h(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(a.Z,{X:!0,Y:!0,className:"w-full h-screen",children:(0,r.jsx)(x,{})})})}},4070:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7437);function a(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex  ".concat(e.X&&e.Y?"justify-center items-center":e.X?"justify-center items-start":e.Y?"justify-start items-center":""," ").concat(e.className,"  animate"),children:e.children})})}},495:function(e,t,n){"use strict";n.d(t,{d:function(){return c},z:function(){return u}});var r=n(7437),a=n(2265),s=n(1538),o=n(2218),i=n(7440);let c=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:n,variant:a,size:o,asChild:u=!1,...l}=e,d=u?s.g7:"button";return(0,r.jsx)(d,{className:(0,i.cn)(c({variant:a,size:o,className:n})),ref:t,...l})});u.displayName="Button"},6013:function(e,t,n){"use strict";n.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return o},aY:function(){return l},eW:function(){return d},ll:function(){return c}});var r=n(7437),a=n(2265),s=n(7440);let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});o.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",n),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});c.displayName="CardTitle";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...a})});u.displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",n),...a})});l.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",n),...a})});d.displayName="CardFooter"},7233:function(e,t,n){"use strict";n.d(t,{uD:function(){return l}});var r=n(7437),a=n(2265),s=n(7440),o=n(3102),i=n(7135);let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(o.I,{placeholder:" ",className:(0,s.cn)("peer",n),ref:t,...a})});c.displayName="FloatingInput";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(i.Label,{className:(0,s.cn)("peer-focus:secondary peer-focus:dark:secondary absolute start-2 top-2 z-10 origin-[0] -translate-y-4 scale-75 transform bg-background px-2 text-sm text-gray-500 duration-300 peer-placeholder-shown:top-1/2 peer-placeholder-shown:-translate-y-1/2 peer-placeholder-shown:scale-100 peer-focus:top-2 peer-focus:-translate-y-4 peer-focus:scale-75 peer-focus:px-2 dark:bg-background rtl:peer-focus:left-auto rtl:peer-focus:translate-x-1/4",n),ref:t,...a})});u.displayName="FloatingLabel";let l=a.forwardRef((e,t)=>{let{id:n,label:a,...s}=e;return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(c,{ref:t,id:n,...s}),(0,r.jsx)(u,{htmlFor:n,children:a})]})});l.displayName="FloatingLabelInput"},3102:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(7437),a=n(2265),s=n(7440);let o=a.forwardRef((e,t)=>{let{className:n,type:a,...o}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})});o.displayName="Input"},7135:function(e,t,n){"use strict";n.r(t),n.d(t,{Label:function(){return u}});var r=n(7437),a=n(2265),s=n(8364),o=n(2218),i=n(7440);let c=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)(s.f,{ref:t,className:(0,i.cn)(c(),n),...a})});u.displayName=s.f.displayName},7440:function(e,t,n){"use strict";n.d(t,{cn:function(){return s}});var r=n(4839),a=n(6164);function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,r.W)(t))}},7138:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(231),a=n.n(r)},6463:function(e,t,n){"use strict";var r=n(1169);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=n(9920)._(n(2265)).default.createContext(null)},3263:function(e,t,n){"use strict";n.d(t,{G3:function(){return a},gk:function(){return s},ng:function(){return o}});let r=(0,n(1904).oM)({name:"dialogModal",initialState:{open:!1,title:"",content:"",status:"",countDown:3e3},reducers:{openDialog:(e,t)=>{e.open=!0,e.title=t.payload.title,e.content=t.payload.content,e.status=t.payload.status,e.confirmText=t.payload.confirmText,e.onConfirm=t.payload.onConfirm,e.cancelText=t.payload.cancelText,e.countDown=t.payload.countDown?t.payload.countDown:3e3},closeDialog:e=>{e.open=!1,e.title="",e.content="",e.status="",e.confirmText="confirm",e.onConfirm=()=>{}}}}),{openDialog:a,closeDialog:s}=r.actions,o=e=>e.dialogModal;t.ZP=r.reducer},5330:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(2649);let a={login:e=>{r.Z.set("access_token",e,{expires:new Date(Date.now()+18e5),sameSite:"lax",secure:!0})},logout:()=>{r.Z.remove("access_token")},getAccessToken:()=>r.Z.get("access_token"),setAccessToken:e=>{r.Z.set("access_token",e,{expires:new Date(Date.now()+18e5),sameSite:"lax",secure:!0})},getRefreshToken:()=>r.Z.get("refresh_token")}},2300:function(e,t,n){"use strict";function r(e){let t={};try{t=JSON.parse(e)}catch(e){t={statusCode:999,result:null,message:"ERROR_PARSE_JSON"}}return t}n.d(t,{M:function(){return r}})}},function(e){e.O(0,[976,420,18,16,231,971,23,744],function(){return e(e.s=1773)}),_N_E=e.O()}]);